var moduleName:string;
var module:object;
var x,y,yaw:real;
var row:integer;

.Models.Frame.PositionDB.loadFromFile("<INSERT PATH TO DATABASE.db>"); -- Choose path to database file generated by createDatabase.py

.Models.Frame.updatePosition;
.Models.Frame.updateModules;

for var i := 1 to .Models.Frame.modules.ydim;
	moduleName := .Models.Frame.modules[2,i];
	module := moduleName;
	
	.Models.Frame.trackerPosition.setCursor(1,1);
	if .Models.Frame.trackerPosition.find({3,1}, {3,*}, .Models.Frame.modules[3,i]) then
		row := .Models.Frame.trackerPosition.cursorY;
		x := str_to_num(.Models.Frame.trackerPosition[4, row]);
		y := -str_to_num(.Models.Frame.trackerPosition[5, row]);  --flipped y-coordinate to match testing room
		yaw := str_to_num(.Models.Frame.trackerPosition[8, row]);
	else
		x := 0;
		y := 0;  --flipped y-coordinate to match testing room
		yaw := 0;
	end;
	
	module._3D.Position := makeArray(x, y, 0);
	module._3D.Rotation := makeArray(yaw, 0, 0, -1);
	
next
